<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <title>Gestionare Produse și Cheltuieli</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="navbar">
        <a href="/">Acasă</a>
        <a href="/reports">Rapoarte</a>
        <a href="/reports/monthly">Rapoarte lunare</a>
        <a href="/reports/products">Rapoarte pe produse</a>
    </div>
    <div class="container">
        <h1>Gestionare Produse și Cheltuieli</h1>

        <!-- PRODUSE -->
        <section class="section">
            <h2>Produse existente</h2>
            <ul>
                {% for p in products %}
                    <li>{{ p[0] }} - {{ p[1] }}</li>
                {% endfor %}
            </ul>
        </section>

        <section class="section">
            <h2>Adaugă produs nou</h2>
            <form method="POST" action="/add_product">
                <input type="text" name="name" placeholder="Nume produs" required>
                <input type="text" name="category" placeholder="Categorie" required>
                <button type="submit">Adaugă</button>
            </form>
        </section>

        <!-- MAGAZINE -->
        <section class="section">
            <h2>Magazine existente</h2>
            <ul>
                {% for s in stores %}
                    <li>{{ s[0] }} - {{ s[1] }}</li>
                {% endfor %}
            </ul>
        </section>

        <section class="section">
            <h2>Adaugă magazin nou</h2>
            <form method="POST" action="/add_store">
                <input type="text" name="name" placeholder="Nume magazin" required>
                <button type="submit">Adaugă</button>
            </form>
        </section>

        <!-- CHELTUIELI -->
        <section class="section">
            <h2>Adaugă cheltuială</h2>
            <form method="POST" action="/add_expense">
                <select name="product_id" required>
                    <option value="" disabled selected>Alege produsul</option>
                    {% for p in products %}
                        <option value="{{ p[0] }}">{{ p[1] }}</option>
                    {% endfor %}
                </select>

                <select name="store_id" required>
                    <option value="" disabled selected>Alege magazinul</option>
                    {% for s in stores %}
                        <option value="{{ s[0] }}">{{ s[1] }}</option>
                    {% endfor %}
                </select>

                <input type="number" step="0.01" name="price" placeholder="Preț" required>
                <input type="number" step="0.01" name="quantity" placeholder="Cantitate" required>
                <input type="date" name="date" required>
                <button type="submit">Adaugă</button>
            </form>
        </section>

        <section class="section">
            <h2>Cheltuieli</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Produs</th>
                        <th>Magazin</th>
                        <th>Preț</th>
                        <th>Cantitate</th>
                        <th>Data</th>
                    </tr>
                </thead>
                <tbody>
                    {% for e in expenses %}
                        <tr>
                            <td>{{ e[0] }}</td>
                            <td>{{ e[1] }}</td>
                            <td>{{ e[2] }}</td>
                            <td>{{ e[3] }}</td>
                            <td>{{ e[4] }}</td>
                            <td>{{ e[5] }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </section>
    </div>
</body>
</html>
